import React, {useState} from 'react';
import { Table, TableBody, Paper, TableHead, TableRow, TableCell, TableContainer, TablePagination } from '@mui/material';

export default function UserTable(props) {
    const user = props.user;
    const [page, setPage] = useState(0);
    const [rowsPerPage, setRowsPerPage] = useState(5);

    const handleChangePage = (event, newPage) => {
        setPage(newPage);
    };

    const handleChangeRowsPerPage = (event) => {
        setRowsPerPage(+event.target.value);
        setPage(0);
    };

    return (
        <TableContainer component={Paper}>
            <Table aria-label="simple table">
                <TableHead>
                    <TableRow>
                        <TableCell align="center">ID</TableCell>
                        <TableCell align="center">社員名</TableCell>
                        <TableCell align="center">メールアドレス</TableCell>
                        <TableCell align="center">パスワード</TableCell>
                    </TableRow>
                </TableHead>
                {user &&
                <TableBody>
                    {user.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((item) => (
                        <TableRow key={item}>
                            {item.map((subitem) => 
                                <TableCell component="th" scope="row" align="center" key={subitem}>
                                    {subitem}
                                </TableCell>
                            )}
                        </TableRow>
                    ))}
                </TableBody>}
            </Table>
            {user && 
            <TablePagination
                component="div"
                count={user.length}
                page={page}
                onPageChange={handleChangePage}
                rowsPerPage={rowsPerPage}
                onRowsPerPageChange={handleChangeRowsPerPage}
            />}
        </TableContainer>
    );
}
