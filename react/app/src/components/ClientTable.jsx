import {Table, TableBody, Paper, TableHead, TableRow, TableCell, TableContainer} from '@mui/material';
import { useState, useEffect } from 'react';

export default function ClientTable(props) {
    const [items, setItems] = useState([]);
    const client = props.client;
  
    useEffect(() => {
      const newItems = [];
      for (var i = 0; i < client.length; i++) {
        newItems.push([client[i][0], client[i][1], client[i][2], client[i][5]]);
      }
      setItems(newItems);
    }, [client]);
    return (
        <TableContainer component={Paper}>
            <Table aria-label="simple table">
                <TableHead>
                    <TableRow>
                        <TableCell align="center">ID</TableCell>
                        <TableCell align="center">名前</TableCell>
                        <TableCell align="center">メールアドレス</TableCell>
                        <TableCell align="center">電話番号</TableCell>
                    </TableRow>
                </TableHead>
                {items &&
                <TableBody>
                {items.map((item) => {
                    return (
                        <TableRow key={item}>
                        {item.map((subitem) => 
                            <TableCell component="th" scope="row" align="center" key={subitem}>
                                {subitem}
                            </TableCell>
                        )}
                        </TableRow>
                    )
                })}
                </TableBody>}
            </Table>
        </TableContainer>
    )
}